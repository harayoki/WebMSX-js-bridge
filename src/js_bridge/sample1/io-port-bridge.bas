10 ' IO PORT JS BRIDGE SAMPLE (SCREEN 0)
20 SCREEN 0:COLOR 15,4,4:KEY OFF:CLS:WIDTH 40
30 PRINT "IO PORT JS BRIDGE (SCREEN 0)"
40 PRINT "1-4 -> OUT &H50   /   5-8 -> OUT &H51"
50 PRINT "JS -> IN uses STATUS &H52 / DATA &H53"
60 PRINT "Press ESC to stop"
70 OUT &H50,0:OUT &H51,0
80 LA=0:LB=0:LIN=0
90 GOSUB 400
100 A$=INKEY$:IF A$<>"" THEN GOSUB 200
110 ST=INP(&H52)
120 IF ST<>0 THEN LIN=INP(&H53):GOSUB 440 ELSE GOSUB 460
130 GOTO 100
200 IF A$=CHR$(27) THEN END
210 V=VAL(A$)
220 IF V>=1 AND V<=4 THEN LA=V:OUT &H50,V:GOSUB 420
230 IF V>=5 AND V<=8 THEN LB=V:OUT &H51,V:GOSUB 430
240 RETURN
400 LOCATE 0,7:PRINT "LAST OUT &H50:";:LOCATE 0,8:PRINT "LAST OUT &H51:"
410 LOCATE 0,10:PRINT "LAST IN  &H53:";:LOCATE 0,11:PRINT "STATUS  &H52:"
415 RETURN
420 LOCATE 16,7:PRINT "   ";:LOCATE 16,7:PRINT LA;:RETURN
430 LOCATE 16,8:PRINT "   ";:LOCATE 16,8:PRINT LB;:RETURN
440 LOCATE 16,10:PRINT "   ";:LOCATE 16,10:PRINT LIN;
450 LOCATE 16,11:PRINT "READY ";:RETURN
460 LOCATE 16,11:PRINT "EMPTY ";:RETURN
